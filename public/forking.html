<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8 />
  <title>Forking (actually cloning) in action...</title>
  <link rel="stylesheet" type="text/css" href="/style.css">
  <link href='/icon.png' rel='icon' type="image/png" />
</head>
<body>
  <h1><span id="spinner">⣾</span> <span>Loading your 5 minute fork</span></h1>
  <p>Forking &mdash; <code>https://github.com/{{owner.login}}/{{name}}</code></p>
  <p>This shouldn't take too long, we're just cloning the project which takes a series of seconds.</p>
  <p>Once cloned, this url will automatically clean itself up and remove the files after 5 minutes of idle time.</p>
  <script>
  var spin = "⣷⣯⣟⡿⢿⣻⣽⣾",
    title = document.getElementById('spinner'),
    i=0;

  setInterval(function() {
      i = i==spin.length-1 ? 0 : ++i;
      title.innerHTML = spin[i];
  },200);

  var xhr = new XMLHttpRequest();
  xhr.open('GET', window.location);
  xhr.setRequestHeader('x-requested-with', 'XMLHttpRequest');
  xhr.onreadystatechange = function () {
    if (this.readyState === 4 && this.status === 200) {
      window.location.reload();
    }
  };
  xhr.send(null);
  </script>
</body>
</html>
